class UIController{constructor(e,t,n,i){this.optimizer=e,this.validation=t,this.presetsManager=n,this.pdfGenerator=i,this.tripPlanner=new TripPlanner,this.currentStep=1,this.totalSteps=5,this.isWeekendOuting=!1,this.inputData={vehicle:{},battery:{},wheel:{},environment:{},priorities:{},tripPlanning:{}},this.initializeUI(),this.attachEventListeners()}initializeUI(){let e=!1;try{e="accepted"===localStorage.getItem("gem-optimizer-disclaimer")}catch(e){console.log("localStorage not available")}e&&(document.getElementById("disclaimer").classList.add("hidden"),this.showPresets());const t=document.getElementById("preset-section");if(t){const e=t.querySelector(".grid");e&&(e.innerHTML=this.presetsManager.getPresetCardsHTML())}this.initializeSliders()}attachEventListeners(){const e=document.getElementById("disclaimer-checkbox");e?.addEventListener("change",(e=>{e.target.checked&&(localStorage.setItem("gem-optimizer-disclaimer","accepted"),document.getElementById("disclaimer").classList.add("hidden"),this.showPresets())})),document.getElementById("custom-config-btn")?.addEventListener("click",(()=>{this.startCustomConfiguration()})),document.getElementById("vehicle-next-btn")?.addEventListener("click",(()=>{this.nextStep()})),document.getElementById("back-to-presets-btn")?.addEventListener("click",(()=>{this.showPresets()}));const t=document.getElementById("next-step-btn"),n=document.getElementById("prev-step-btn");t&&t.addEventListener("click",(()=>{this.nextStep()})),n&&n.addEventListener("click",(()=>{this.previousStep()})),this.attachFormListeners(),this.attachTripPlanningListeners(),this.attachExportImportListeners()}initializeSliders(){["range","speed","acceleration","hillClimbing","regen"].forEach((e=>{const t=document.getElementById(`priority-${e}`),n=document.getElementById(`${e}-value`);if(t&&n){const i=t.value||"5";n.textContent=i,this.inputData.priorities[e]=parseInt(i),t.addEventListener("input",(t=>{n.textContent=t.target.value,this.inputData.priorities[e]=parseInt(t.target.value)}))}}))}showPresets(){document.getElementById("preset-section").classList.remove("hidden"),document.getElementById("main-form").classList.add("hidden"),document.getElementById("results-section").classList.add("hidden")}selectPreset(e){console.log("Applying preset:",e),document.querySelectorAll(".preset-card").forEach((e=>{e.classList.remove("selected")})),document.querySelector(`[data-preset="${e}"]`)?.classList.add("selected");const t=this.presetsManager.getPreset(e);if(t){if(console.log("Preset configuration:",t),t.requiresTripPlanning)return this.isWeekendOuting=!0,this.totalSteps=6,void this.startCustomConfiguration();this.inputData=this.presetsManager.getMergedInputData(e,this.getDefaultInputData()),this.showLoadingScreen(),setTimeout((()=>{console.log("Running optimization with input data:",this.inputData);try{const n=this.optimizer.optimizeSettings(this.inputData,this.importedSettings);console.log("Optimization completed:",n),t.settings&&(console.log("Applying preset settings:",t.settings),Object.keys(t.settings).forEach((e=>{n.optimizedSettings[e]=t.settings[e]}))),console.log("Final optimized settings:",n.optimizedSettings),"weekend-outing"===e&&this.tripOptimizedSettings&&(Object.keys(this.tripOptimizedSettings).forEach((e=>{n.optimizedSettings[e]=this.tripOptimizedSettings[e]})),this.tripOptimizedSettings=null),this.showResults(n)}catch(e){console.error("Optimization error:",e),this.showErrorMessage("Optimization failed: "+e.message)}}),1e3)}else console.error("Preset not found:",e)}startCustomConfiguration(){document.getElementById("preset-section").classList.add("hidden"),document.getElementById("main-form").classList.remove("hidden"),this.currentStep=1,this.showStep(1),this.updateProgressBar(),this.importedSettings&&this.showImportedSettingsNotification()}showImportedSettingsNotification(){const e=document.createElement("div");e.className="fixed top-4 right-4 bg-purple-500 text-white px-4 py-2 rounded-md shadow-lg z-50",e.innerHTML='\n            <div class="flex items-center">\n                <span class="mr-2">ðŸ“„</span>\n                <span>Using imported PDF settings as baseline</span>\n            </div>\n        ',document.body.appendChild(e),setTimeout((()=>e.remove()),5e3)}showStep(e){document.querySelectorAll(".form-section").forEach((e=>{e.classList.remove("active")}));let t=["vehicle","battery","wheel","environment","priorities"];this.isWeekendOuting&&(t=["vehicle","battery","wheel","environment","priorities","trip-planning"]);const n=document.getElementById(`${t[e-1]}-section`);n&&n.classList.add("active");const i=document.getElementById("prev-step-btn"),s=document.getElementById("next-step-btn");i&&(i.style.display=e>1?"block":"none"),s&&(s.textContent=e<this.totalSteps?"Next Step":"Get Results");const r=document.querySelector("#main-form .mt-8.flex.justify-between");r&&(r.style.display=1===e?"none":"flex"),this.currentStep=e,this.updateProgressBar()}updateProgressBar(){const e=document.getElementById("progress-bar"),t=document.getElementById("progress-text"),n=this.currentStep/this.totalSteps*100;e.style.width=`${n}%`,t.textContent=`Step ${this.currentStep} of ${this.totalSteps}`}nextStep(){const e=this.validateCurrentStep();e.isValid?(this.saveCurrentStepData(),this.currentStep<this.totalSteps?(this.currentStep++,this.showStep(this.currentStep)):this.runOptimization()):this.showValidationErrors(e.errors)}previousStep(){this.currentStep>1&&(this.currentStep--,this.showStep(this.currentStep))}validateCurrentStep(){let e=["vehicle","battery","wheel","environment","priorities"];this.isWeekendOuting&&(e=["vehicle","battery","wheel","environment","priorities","trip-planning"]);const t=e[this.currentStep-1],n={...this.inputData};this.saveCurrentStepData(n);const i={};for(let t=0;t<this.currentStep;t++){const s=e[t];n[s]&&(i[s]=n[s])}return i[t]||(i[t]={}),this.validateSectionOnly(t,i[t])}saveCurrentStepData(e=null){const t=e||this.inputData;let n=["vehicle","battery","wheel","environment","priorities"];this.isWeekendOuting&&(n=["vehicle","battery","wheel","environment","priorities","trip-planning"]);switch(n[this.currentStep-1]){case"vehicle":const e=document.getElementById("battery-voltage")?.value,n=document.getElementById("custom-voltage")?.value,i=document.getElementById("gear-ratio")?.value,s=document.getElementById("custom-gear-ratio")?.value;t.vehicle={model:document.getElementById("vehicle-model")?.value,topSpeed:document.getElementById("top-speed")?.value,motorCondition:document.getElementById("motor-condition")?.value},t.battery={type:document.getElementById("battery-type")?.value,voltage:"custom"===e?n:e,capacity:document.getElementById("battery-capacity")?.value,age:"good"},t.wheel={tireDiameter:document.getElementById("tire-diameter")?.value,gearRatio:"custom"===i?s:i};break;case"battery":t.battery={type:document.getElementById("battery-type")?.value,voltage:document.getElementById("battery-voltage")?.value,capacity:document.getElementById("battery-capacity")?.value,age:document.getElementById("battery-age")?.value};break;case"wheel":t.wheel={tireDiameter:document.getElementById("tire-diameter")?.value,gearRatio:document.getElementById("gear-ratio")?.value||"8.91"};break;case"environment":t.environment={terrain:document.getElementById("terrain")?.value,vehicleLoad:document.getElementById("vehicle-load")?.value,temperatureRange:document.getElementById("temperature-range")?.value,hillGrade:document.getElementById("hill-grade")?.value};break;case"priorities":break;case"trip-planning":t.tripPlanning={location:document.getElementById("trip-location")?.value,date:document.getElementById("trip-date")?.value,eventType:document.getElementById("event-type")?.value,groupSize:document.getElementById("group-size")?.value,cargoLoad:document.getElementById("cargo-load")?.value},t.tripPlanning.location&&t.tripPlanning.date&&this.analyzeTripData()}}showValidationErrors(e){document.querySelectorAll(".validation-message").forEach((e=>{e.classList.add("hidden"),e.textContent=""})),document.querySelectorAll(".validation-error").forEach((e=>{e.classList.remove("validation-error")})),e.forEach((e=>{const t=e.field.split("."),n=t[t.length-1],i=document.getElementById(n.replace(/([A-Z])/g,"-$1").toLowerCase()),s=document.getElementById(`${n.replace(/([A-Z])/g,"-$1").toLowerCase()}-error`);i&&i.classList.add("validation-error"),s&&(s.textContent=e.message,s.classList.remove("hidden"))}))}runOptimization(){this.saveCurrentStepData();const e=this.validation.validateConfiguration(this.inputData);e.isValid?(this.showLoadingScreen(),setTimeout((()=>{let e=this.optimizer.optimizeSettings(this.inputData,this.importedSettings);if(this.isWeekendOuting){const t=this.presetsManager.getPreset("weekend-outing");if(t&&t.settings&&Object.keys(t.settings).forEach((n=>{e.optimizedSettings[n]=t.settings[n]})),this.inputData.tripRecommendations){const t=this.inputData.tripRecommendations;"hot"===t.settings.temperatureMode&&(e.optimizedSettings[4]=Math.min(e.optimizedSettings[4]-10,235),e.optimizedSettings[6]=Math.min(e.optimizedSettings[6]+5,75)),"steep"===t.settings.hillMode&&(e.optimizedSettings[7]=Math.min(e.optimizedSettings[7]+5,85),e.optimizedSettings[24]=Math.min(e.optimizedSettings[24]+5,70)),"extended"===t.settings.rangeMode&&(e.optimizedSettings[3]=Math.min(e.optimizedSettings[3]+2,25),e.optimizedSettings[9]=Math.max(e.optimizedSettings[9]+5,245)),t.tips.length>0&&e.performanceChanges.push("Trip-specific optimizations applied")}}this.showResults(e)}),1500)):this.showValidationErrors(e.errors)}showLoadingScreen(){document.getElementById("main-form").classList.add("hidden"),document.getElementById("preset-section").classList.add("hidden");const e=document.getElementById("results-section");e.classList.remove("hidden"),e.innerHTML='\n            <div class="flex flex-col items-center justify-center py-16">\n                <div class="spinner mb-4"></div>\n                <p class="text-lg text-gray-600">Optimizing your controller settings...</p>\n                <p class="text-sm text-gray-500 mt-2">Analyzing configuration and calculating optimal parameters</p>\n            </div>\n        '}showResults(e){document.getElementById("results-section").innerHTML=this.generateResultsHTML(e),this.attachResultActionListeners(e)}generateResultsHTML(e){return`\n            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">\n                <h2 class="text-2xl font-bold mb-6">Optimization Results</h2>\n                \n                \x3c!-- Summary --\x3e\n                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-6">\n                    <div class="flex">\n                        <div class="flex-shrink-0">\n                            <svg class="h-5 w-5 text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />\n                            </svg>\n                        </div>\n                        <div class="ml-3">\n                            <h3 class="text-sm font-medium text-green-800">Optimization Complete</h3>\n                            <p class="mt-2 text-sm text-green-700">\n                                ${Object.keys(e.optimizedSettings).filter((t=>e.optimizedSettings[t]!==e.factorySettings[t])).length} parameters optimized for your configuration\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Performance Changes --\x3e\n                ${e.performanceChanges.length>0?`\n                    <div class="mb-6">\n                        <h3 class="text-lg font-semibold mb-3">Expected Performance Changes</h3>\n                        <ul class="space-y-2">\n                            ${e.performanceChanges.map((e=>`\n                                <li class="flex items-start">\n                                    <svg class="h-5 w-5 text-green-500 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                                    </svg>\n                                    <span class="text-gray-700">${e}</span>\n                                </li>\n                            `)).join("")}\n                        </ul>\n                    </div>\n                `:""}\n                \n                \x3c!-- Settings Table --\x3e\n                <div class="mb-6">\n                    <h3 class="text-lg font-semibold mb-3">Optimized Controller Settings</h3>\n                    <div class="overflow-x-auto">\n                        <table class="min-w-full divide-y divide-gray-200">\n                            <thead class="bg-gray-50">\n                                <tr>\n                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Function</th>\n                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>\n                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Factory</th>\n                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Optimized</th>\n                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Change</th>\n                                </tr>\n                            </thead>\n                            <tbody class="bg-white divide-y divide-gray-200">\n                                ${this.generateSettingsRows(e)}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                \n                \x3c!-- Actions --\x3e\n                <div class="flex flex-col sm:flex-row gap-4">\n                    <button id="download-pdf-btn" class="flex-1 px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">\n                        <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\n                        </svg>\n                        Download PDF Report\n                    </button>\n                    \n                    <button id="export-config-btn" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">\n                        <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2"></path>\n                        </svg>\n                        Export Configuration\n                    </button>\n                    \n                    <button id="new-optimization-btn" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">\n                        <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>\n                        </svg>\n                        New Optimization\n                    </button>\n                </div>\n                \n                \x3c!-- Implementation Instructions --\x3e\n                <div class="mt-8 bg-gray-50 rounded-lg p-6">\n                    <h3 class="text-lg font-semibold mb-4">Implementation Instructions</h3>\n                    <ol class="list-decimal list-inside space-y-2 text-sm text-gray-700">\n                        <li>Save your original settings using GE Sentry software before making changes</li>\n                        <li>Connect to your controller with the programming cable</li>\n                        <li>With key switch OFF and battery disconnect ON, modify each function value</li>\n                        <li>After all changes, turn battery disconnect OFF for several minutes</li>\n                        <li>Turn battery disconnect ON and test gradually starting with low speeds</li>\n                        <li>Monitor motor temperature during initial drives</li>\n                    </ol>\n                </div>\n            </div>\n        `}generateSettingsRows(e){const t=[];return Object.keys(e.optimizedSettings).forEach((n=>{const i=e.factorySettings[n],s=e.optimizedSettings[n],r=this.optimizer.functionDescriptions[n];if(i!==s){const e=s>i?"increase":"decrease",a=s>i?"â†‘":"â†“";t.push(`\n                    <tr class="parameter-row">\n                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">F${n}</td>\n                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${r}</td>\n                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${i}</td>\n                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${s}</td>\n                        <td class="px-6 py-4 whitespace-nowrap text-sm">\n                            <span class="${e}">${a} ${Math.abs(s-i)}</span>\n                        </td>\n                    </tr>\n                `)}})),t.join("")}attachResultActionListeners(e){document.getElementById("download-pdf-btn")?.addEventListener("click",(()=>{this.pdfGenerator.generatePDF(e)})),document.getElementById("export-config-btn")?.addEventListener("click",(()=>{this.exportConfiguration(e)})),document.getElementById("new-optimization-btn")?.addEventListener("click",(()=>{this.resetOptimizer()}))}exportConfiguration(e){const t={version:"1.0",timestamp:(new Date).toISOString(),inputData:e.inputData,optimizedSettings:e.optimizedSettings,performanceChanges:e.performanceChanges},n=JSON.stringify(t,null,2),i="data:application/json;charset=utf-8,"+encodeURIComponent(n),s=`gem-optimizer-${(new Date).toISOString().split("T")[0]}.json`,r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download",s),r.click()}importConfiguration(e){const t=new FileReader;t.onload=e=>{try{const t=JSON.parse(e.target.result);if("1.0"!==t.version)return void alert("Incompatible configuration file version");this.inputData=t.inputData;const n={factorySettings:this.optimizer.factoryDefaults,optimizedSettings:t.optimizedSettings,performanceChanges:t.performanceChanges,inputData:t.inputData};this.showResults(n)}catch(e){alert("Error reading configuration file"),console.error(e)}},t.readAsText(e)}resetOptimizer(){this.currentStep=1,this.totalSteps=5,this.isWeekendOuting=!1,this.inputData=this.getDefaultInputData(),this.showPresets()}getDefaultInputData(){return{vehicle:{model:"",topSpeed:"25",motorCondition:"good"},battery:{type:"lead",voltage:"72",capacity:"150",age:"good"},wheel:{tireDiameter:"22",gearRatio:"8.91"},environment:{terrain:"mixed",vehicleLoad:"medium",temperatureRange:"mild",hillGrade:"10"},priorities:{range:5,speed:5,acceleration:5,hillClimbing:5,regen:5},tripPlanning:{location:"",date:"",eventType:"",groupSize:"couple",cargoLoad:"light"}}}validateSectionOnly(e,t){const n=[];switch(e){case"vehicle":t.model||n.push({field:"vehicle.model",message:"Vehicle model is required"});break;case"battery":t.voltage||n.push({field:"battery.voltage",message:"Battery voltage is required"});break;case"wheel":t.tireDiameter||n.push({field:"wheel.tireDiameter",message:"Tire diameter is required"});break;case"environment":case"priorities":break;case"trip-planning":t.location||n.push({field:"tripPlanning.location",message:"Destination location is required"}),t.date||n.push({field:"tripPlanning.date",message:"Trip date is required"}),t.eventType||n.push({field:"tripPlanning.eventType",message:"Event type is required"})}const i=this.validation.validateConfiguration({[e]:t}),s=i.errors.filter((t=>t.field.startsWith(e)||t.field===e));return{isValid:0===n.length&&0===s.length,errors:[...n,...s],warnings:i.warnings||[]}}async analyzeTripData(){const e=this.inputData.tripPlanning,t=document.getElementById("trip-analysis"),n=document.getElementById("trip-analysis-content");t.classList.remove("hidden"),n.innerHTML='<div class="text-center">Analyzing trip data...</div>';try{const t=await this.tripPlanner.getWeatherData(e.location,new Date(e.date)),i=this.tripPlanner.getDefaultTerrain(),s=this.tripPlanner.generateRecommendations({weather:t,terrain:i,eventType:e.eventType},this.inputData);let r='<div class="space-y-3">';r+=`\n                <div>\n                    <strong>Weather Forecast:</strong><br>\n                    Temperature: ${t.temperature.min}Â°F - ${t.temperature.max}Â°F<br>\n                    Conditions: ${t.conditions.replace("_"," ")}<br>\n                    Precipitation: ${t.precipitation.probability}% chance\n                </div>\n            `,r+=`\n                <div>\n                    <strong>Terrain Analysis:</strong><br>\n                    Distance: ${i.totalDistance} miles<br>\n                    Max Grade: ${i.maxGrade}%<br>\n                    Terrain Type: ${i.terrainType.replace("_"," ")}\n                </div>\n            `,s.tips.length>0&&(r+='<div><strong>Recommendations:</strong><ul class="list-disc list-inside mt-1">',s.tips.forEach((e=>{r+=`<li>${e}</li>`})),r+="</ul></div>"),s.warnings.length>0&&(r+='<div class="text-orange-700"><strong>Warnings:</strong><ul class="list-disc list-inside mt-1">',s.warnings.forEach((e=>{r+=`<li>${e}</li>`})),r+="</ul></div>"),r+="</div>",n.innerHTML=r,this.inputData.tripRecommendations=s}catch(e){n.innerHTML='\n                <div class="text-red-600">\n                    Error analyzing trip data. Using default settings.\n                </div>\n            '}}attachFormListeners(){document.querySelectorAll("input, select, textarea").forEach((e=>{e.addEventListener("change",(()=>{e.classList.remove("validation-error");const t=document.getElementById(`${e.id}-error`);t&&(t.classList.add("hidden"),t.textContent="")}))}))}attachTripPlanningListeners(){const e=document.getElementById("trip-date");if(e){const t=(new Date).toISOString().split("T")[0];e.setAttribute("min",t)}["trip-location","trip-date","event-type"].forEach((e=>{const t=document.getElementById(e);t&&t.addEventListener("change",(()=>{setTimeout((()=>{const e=document.getElementById("trip-location")?.value,t=document.getElementById("trip-date")?.value,n=document.getElementById("event-type")?.value;e&&t&&n&&(this.saveCurrentStepData(),this.analyzeTripData())}),500)}))}))}attachExportImportListeners(){const e=document.createElement("input");e.type="file",e.accept=".json",e.style.display="none",document.body.appendChild(e),e.addEventListener("change",(e=>{e.target.files.length>0&&this.importConfiguration(e.target.files[0])})),document.addEventListener("keydown",(t=>{t.ctrlKey&&"i"===t.key&&(t.preventDefault(),e.click())}))}handlePresetSelection(e,t){console.log("Preset selection triggered:",e,"Interactive:",t),t&&"weekend-outing"===e?this.launchTripPlanner():this.selectPreset(e)}launchTripPlanner(){document.querySelectorAll(".preset-card").forEach((e=>{e.classList.remove("selected")})),document.querySelector('[data-preset="weekend-outing"]')?.classList.add("selected"),window.tripPlanner||(window.tripPlanner=new TripPlanner),window.tripPlanner.openModal()}showTripPlannerIntro(){const e=document.getElementById("main-form");if(e){if(!e.querySelector(".trip-planner-intro")){const t=document.createElement("div");t.className="trip-planner-intro bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",t.innerHTML='\n                    <div class="flex">\n                        <div class="flex-shrink-0">\n                            <svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20">\n                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>\n                            </svg>\n                        </div>\n                        <div class="ml-3">\n                            <h3 class="text-sm font-medium text-blue-800">ðŸ“… Weekend Outing Trip Planner</h3>\n                            <p class="mt-2 text-sm text-blue-700">\n                                This wizard will gather your vehicle info, destination details, and trip requirements to create \n                                optimized controller settings with weather and terrain considerations.\n                            </p>\n                        </div>\n                    </div>\n                ',e.insertBefore(t,e.firstChild)}}}showErrorMessage(e){const t=document.createElement("div");t.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 max-w-md",t.innerHTML=`\n            <div class="flex items-center">\n                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                </svg>\n                <span>${e}</span>\n            </div>\n        `,document.body.appendChild(t),setTimeout((()=>{t.remove()}),5e3)}}